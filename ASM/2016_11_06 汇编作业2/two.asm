DATA 	SEGMENT
	TS	DB	0DH,0AH,'Please input the num!$'
	HH 	DB	0DH,0AH,'$'
	WA	DB 	0DH,0AH,'The input is not legal!$'
	SUMN	DB	00H
	NUM1	DB	100
			DB 	?
			DB 	100 DUP(?)
	NUM2 	DB	100
			DB 	?
			DB 	100 DUP(?)
	MOOD	DB	0AH
	SUM	DB 	0DH,0AH,'The sum is :$'
DATA 	ENDS
STACK	SEGMENT STACK
	DB	100	DUP(?)
STACK 	ENDS
CODE  	SEGMENT
	ASSUME 	CS:CODE, DS:DATA, SS:STACK
OUTPUTSR	MACRO	SR
	LEA DX, SR
	MOV AH, 09H
	INT 21H
	ENDM
INPUTSR		MACRO	SR 
	LEA DX, SR
	MOV AH, 0AH
	INT 21H
	ENDM
OUTPUTCHAR	MACRO 	CHA
	MOV DL, CHA
	MOV AH, 02H
	INT 21H
	ENDM
OUTPUTNUM 	MACRO	NU
	LOCAL LOOPN
	LOCAL NEXTP
	MOV AL, NU
	CBW
	MOV CX, 0
	LOOPN:
		DIV MOOD
		MOV BL,AH
		ADD BL,'0'
		XOR BH,BH
		PUSH BX
		INC CX
		CBW
		CMP AX, 0
		JNZ LOOPN
	NEXTP:
		POP AX
		OUTPUTCHAR AL
		DEC CX
		JNZ NEXTP
	ENDM
MAIN 	PROC	FAR
	MOV AX, DATA
	MOV DS, AX
	NEXT:
		OUTPUTSR TS
		OUTPUTSR HH
		INPUTSR NUM1
		OUTPUTSR HH
		INPUTSR NUM2
		CALL CHECK
		CMP AX,0
		JNZ NEXT
	OUTPUTSR SUM
	MOV AL, NUM1+2
	SUB AL, '0'
	ADD AL, NUM2+2
	SUB AL, '0'
	MOV SUMN, AL
	OUTPUTNUM SUMN
	OUTPUTSR HH
	CALL FINISH
	RET
MAIN 	ENDP
CHECK 	PROC
	MOV AX, 0
	MOV CL, NUM1+1
	CMP CL, 1
	JNZ ISWA
	MOV CL, NUM2+1
	CMP CL, 1
	JNZ ISWA
	MOV CL, NUM1+2
	CMP CL, '0'
	JL ISWA
	CMP CL, '9'
	JG	ISWA
	MOV CL, NUM2+2
	CMP CL, '0'
	JL ISWA
	CMP CL, '9'
	JG	ISWA
	RET
	ISWA:
		OUTPUTSR WA
		MOV AX, 1
	RET
CHECK 	ENDP
FINISH 	PROC
	MOV AH,00H
	INT 16H
	MOV AH, 4CH
	INT 21H
	RET
FINISH ENDP
CODE 	ENDS
	END 	MAIN