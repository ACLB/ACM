DATA 	SEGMENT
	NUM	DB 	100
		DB	?
		DB 	100 DUP(?)
	HH	DB	0DH,0AH,'$'
	EVE	DB	'EVEN$'
	ODD	DB	'ODD$'
	SM	DB	0AH
	TS	DB	'Please input the num!$'
	ERR	DB	'The input is not legal!$'
	MD	DB	02H
DATA	ENDS
STACK 	SEGMENT STACK
	DB 	100 DUP(?)
STACK 	ENDS
CODE	SEGMENT
	ASSUME 	CS:CODE,DS:DATA,SS:STACK
OUTPUTSR	MACRO 	SR
	LEA DX, SR
	MOV AH,09H
	INT 21H
	ENDM
INTPUTSR	MACRO	SR
	LEA DX, SR
	MOV AH, 0AH
	INT 21H
	ENDM
MAIN	PROC	FAR
	MOV AX, DATA
	MOV DS, AX
	LOOPN:
		OUTPUTSR TS
		OUTPUTSR HH
		INTPUTSR NUM
		OUTPUTSR HH
		CALL CHECK
		CMP AH, 0
		JNZ LOOPN
	LEA SI, NUM+2
	MOV CL, NUM+1
	XOR AH, AH
	MOOD:
		MOV AL, AH
		MUL SM
		XOR AH, AH
		ADD AL, [SI]
		SUB AL, '0' 
		DIV MD
		INC SI
		DEC CL
		JNZ MOOD
	CMP AH, 0
	JZ 	ISEVEN
	OUTPUTSR ODD
	OUTPUTSR HH
	CALL FINISH
	ISEVEN:
		OUTPUTSR EVE
	OUTPUTSR HH
	CALL FINISH
MAIN	ENDP
FINISH	PROC
	MOV AH, 0H
	INT 16H
	MOV AH, 4CH
	INT 21H
	RET
FINISH	ENDP
CHECK PROC
	LEA SI, NUM+2;
	MOV CL, NUM+1
	XOR AH, AH
	NEXT:	
		MOV AL,[SI]
		CMP AL, '0'
		JL WA
		CMP AL, '9'
		JG	WA
		INC SI
		DEC CL
		JNZ NEXT
	RET
	WA:
		OUTPUTSR ERR
		OUTPUTSR HH
		MOV AH, 1
	RET
CHECK ENDP
CODE 	ENDS
	END 	MAIN

